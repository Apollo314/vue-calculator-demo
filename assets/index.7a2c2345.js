import{w as f,o as c,c as o,a as n,t as u,n as v,r as O,b as m,u as p,F as _,d as b,e as y,f as N,i as h,g,h as x}from"./vendor.a3a50f20.js";const F=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function s(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(t){if(t.ep)return;t.ep=!0;const a=s(t);fetch(t.href,a)}};F();const k={style:{position:"relative",margin:"8px"}},w=n("div",{class:"buttonhole"},null,-1),E={props:{label:{type:String},active:{type:Boolean,default:!1},hover:{type:Boolean,default:!1},action:{},state:{type:Object}},setup(l){const e=l;function s(){switch(e.state.operation){case"+":return parseFloat(e.state.previousOperand)+parseFloat(e.state.currentOperand);case"-":return parseFloat(e.state.previousOperand)-parseFloat(e.state.currentOperand);case"\xF7":return parseFloat(e.state.previousOperand)/parseFloat(e.state.currentOperand);case"x":return parseFloat(e.state.previousOperand)*parseFloat(e.state.currentOperand);default:return""}}function r(t){if(Array.from("0123456789").includes(e.label)){if(e.state.currentOperand==="0"){e.state.currentOperand=e.label,e.state.calculated=!1;return}e.state.calculated?(e.state.currentOperand=e.label,e.state.calculated=!1):e.state.currentOperand+=e.label}else["NumpadDivide","NumpadAdd","NumpadMultiply","NumpadSubtract"].includes(e.action)?e.state.previousOperand!==""&&e.state.currentOperand===""?e.state.operation=e.label:e.state.previousOperand===""&&e.state.currentOperand!==""?(e.state.operation=e.label,e.state.previousOperand=e.state.currentOperand,e.state.currentOperand=""):e.state.currentOperand===""&&e.state.previousOperand===""&&e.action=="NumpadSubtract"?(e.state.previousOperand="0",e.state.operation=e.label,e.state.currentOperand=""):e.state.currentOperand!==""&&e.state.previousOperand!==""&&(e.state.previousOperand=s(),e.state.currentOperand="",e.state.operation=e.label):e.action==="Escape"?(e.state.currentOperand="",e.state.previousOperand="",e.state.operation=""):e.action==="KeyN"?e.state.currentOperand!==""&&(e.state.currentOperand=String(-parseFloat(e.state.currentOperand))):e.action==="NumpadDecimal"&&e.state.currentOperand!==""?e.state.currentOperand.includes(".")||(e.state.currentOperand+="."):e.action==="Backspace"?e.state.calculated?(e.state.currentOperand="",e.state.previousOperand="",e.state.operation="",e.state.calculated=!1):e.state.currentOperand=e.state.currentOperand.substring(0,e.state.currentOperand.length-1):e.action==="NumpadEnter"&&e.state.previousOperand!==""&&e.state.currentOperand!==""&&(e.state.currentOperand=String(s()),e.state.previousOperand="",e.state.operation="",e.state.calculated=!0)}return f(()=>e.active,()=>{e.active||r()}),(t,a)=>(c(),o("div",k,[w,n("button",{onClick:r,class:v({active:l.active})},u(l.label),3)]))}};const B={class:"calculator"},S={class:"result"},L={class:"previous-operand"},A={class:"current-operand"},D={setup(l){const e=O({currentOperand:"",previousOperand:"",operation:"",calculated:!1}),s=m({Numpad7:{active:!1,label:"7"},Numpad8:{active:!1,label:"8"},Numpad9:{active:!1,label:"9"},Backspace:{active:!1,label:"\u232B"},Escape:{active:!1,label:"CE"},Numpad4:{active:!1,label:"4"},Numpad5:{active:!1,label:"5"},Numpad6:{active:!1,label:"6"},NumpadMultiply:{active:!1,label:"x"},NumpadSubtract:{active:!1,label:"-"},Numpad1:{active:!1,label:"1"},Numpad2:{active:!1,label:"2"},Numpad3:{active:!1,label:"3"},NumpadAdd:{active:!1,label:"+",style:"grid-row:span 2"},NumpadDivide:{active:!1,label:"\xF7"},KeyN:{active:!1,label:"+/-"},Numpad0:{active:!1,label:"0"},NumpadDecimal:{active:!1,label:"."},NumpadEnter:{active:!1,label:"="}});return window.addEventListener("keydown",r=>{r.key=="Enter"&&r.preventDefault();var t=s.value[r.code];t&&(t.active=!0)}),window.addEventListener("keyup",r=>{var t=s.value[r.code];t&&(t.active=!1)}),(r,t)=>(c(),o("div",null,[n("div",B,[n("div",S,[n("div",L,u(p(e).previousOperand)+" "+u(p(e).operation),1),n("div",A,u(p(e).currentOperand),1)]),(c(!0),o(_,null,b(s.value,(a,i)=>(c(),y(E,{key:i,active:a.active,label:a.label,style:N(a.style),state:p(e),"onUpdate:state":t[0]||(t[0]=d=>h(e)?e.value=d:e=d),action:i},null,8,["active","label","style","state","action"]))),128))])]))}};const C={style:{display:"flex","flex-direction":"column","justify-content":"flex-start",height:"100vh"}},$=n("div",{style:{"flex-shrink":"1",height:"60px"}},null,-1),j={setup(l){return(e,s)=>(c(),o("div",C,[$,g(D)]))}};x(j).mount("#app");
